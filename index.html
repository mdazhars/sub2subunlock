let tasksCompleted = { youtube: false, instagram: false };

function completeTask(element, task) {
    if (task === "youtube") {
        let youtubeLink = "https://www.youtube.com/channel/https://youtube.com/@dynamicpixelss?si=BGsbcxjNGkF13XEg?sub_confirmation=1";
        let win = window.open(youtubeLink, "_blank");
        
        // 5 seconds ka delay dekar check karenge ki user wapas aaya ya nahi
        setTimeout(() => {
            let confirmSubscribe = confirm("Did you subscribe to the channel?");
            if (confirmSubscribe) {
                tasksCompleted.youtube = true;
                element.style.background = "#28a745";
                element.querySelector(".status").textContent = "✅";
                checkUnlock();
            } else {
                alert("You need to subscribe to unlock the content.");
            }
        }, 5000);
    } else if (task === "instagram") {
        let instaLink = "https://www.instagram.com/md_azhar0405?igsh=OGN4czI1enVhZGw5";
        window.open(instaLink, "_blank");
        tasksCompleted.instagram = true;
        element.style.background = "#28a745";
        element.querySelector(".status").textContent = "✅";
        checkUnlock();
    }
}

function checkUnlock() {
    if (tasksCompleted.youtube && tasksCompleted.instagram) {
        let unlockBtn = document.getElementById("unlockBtn");
        unlockBtn.classList.remove("locked");
        unlockBtn.classList.add("unlocked");
        unlockBtn.disabled = false;
        unlockBtn.textContent = "✅ Click to Unlock!";
        unlockBtn.onclick = function () {
            window.location.href = "YOUR_SECRET_LINK";
        };
    }
}
